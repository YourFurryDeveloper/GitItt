<!DOCTYPE html>

<html>
    <head>
        <title>GitItt |</title>
        <link rel="stylesheet" href="styles_thread.css">
    </head>

    <body onload="fetchData()">
        <div id="topbar">
            <p id="sitename">GitItt</p>
            <nav id="topnav">
                <a href="index.html"><button id="navbtn">Home</button></a>
                <a href="reccomended.html"><button id="navbtn">Reccomended</button></a>
                <a href="user-submitted.html"><button id="navbtn">User-Submitted</button></a>
            </nav>
        </div>
        <br>
        <br>
        <h1 id="threadname"></h1>
        <div class="giscus" id="giscus"></div>

        <script>
            function fetchData() {
                const params = new URLSearchParams(window.location.search);
                const threadname = params.get("thread");

                document.getElementById("threadname").innerHTML = threadname;
                document.title = `GitItt | ${threadname}`

                loadGiscus();
            }

            function loadGiscus() {
                const giscusContainer = document.getElementById('giscus');

                const script = document.createElement('script');
                script.src = 'https://giscus.app/client.js';
                script.setAttribute('data-repo', 'YourFurryDeveloper/GitItt');
                script.setAttribute('data-repo-id', 'R_kgDOO2qTdA');
                script.setAttribute('data-category', 'General');
                script.setAttribute('data-category-id', 'DIC_kwDOO2qTdM4CrE_E');
                script.setAttribute('data-mapping', 'title');
                script.setAttribute('data-strict', '0');
                script.setAttribute('data-reactions-enabled', '0');
                script.setAttribute('data-emit-metadata', '0');
                script.setAttribute('data-input-position', 'top');
                script.setAttribute('data-theme', 'preferred_color_scheme');
                script.setAttribute('data-lang', 'en');
                script.setAttribute('data-loading', 'lazy');
                script.setAttribute('crossorigin', 'anonymous');
                script.async = true;

                giscusContainer.appendChild(script);
            }
        </script>
    </body>
</html>
